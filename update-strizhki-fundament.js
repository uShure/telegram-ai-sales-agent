const Database = require('bun:sqlite').default;

console.log('üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞ "–°—Ç—Ä–∏–∂–∫–∏: –§—É–Ω–¥–∞–º–µ–Ω—Ç" —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º...\n');

const db = new Database('./courses.db');

// –û–±–Ω–æ–≤–ª—è–µ–º –∫—É—Ä—Å "–û—á–Ω—ã–π –∫—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º: —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç"
const updateCourse = db.prepare(`
  UPDATE courses
  SET description = ?,
      curriculum = ?,
      benefits = ?,
      targetAudience = ?
  WHERE name = ?
`);

const newDescription = `–ì–ª–∞–≤–Ω—ã–π –æ—á–Ω—ã–π –∫—É—Ä—Å –∞–∫–∞–¥–µ–º–∏–∏ SOINTERA. 3 –¥–Ω—è –≤ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π –¥–µ—Ä–µ–≤–Ω–µ - –∑–∞–≥–æ—Ä–æ–¥–Ω–æ–π –∞–∫–∞–¥–µ–º–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ –æ–±—É—á–µ–Ω–∏–µ. –í—ã –∏–∑—É—á–∏—Ç–µ 11 –±–∞–∑–æ–≤—ã—Ö —Ñ–æ—Ä–º —Å—Ç—Ä–∏–∂–µ–∫ –∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç–µ —á—ë—Ç–∫—É—é —Å–∏—Å—Ç–µ–º—É –≤ –≥–æ–ª–æ–≤–µ. –ü–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç–µ —Å—Ç—Ä–∏—á—å –Ω–∞ –∏–Ω—Ç—É–∏—Ü–∏–∏ - –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.`;

const newCurriculum = `11 –ë–ê–ó–û–í–´–• –§–û–†–ú –∑–∞ 3 –¥–Ω—è:
‚Ä¢ –û—Ç –¥–ª–∏–Ω–Ω—ã—Ö –¥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ–æ—Ä–º
‚Ä¢ –°–Ω–∞—á–∞–ª–∞ "—Å—Ç—Ä–æ–∏–º" —Ñ–æ—Ä–º—É –Ω–∞ –±—É–º–∞–≥–µ –∏ —Å—Ö–µ–º–∞—Ö
‚Ä¢ –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –±–µ—Ä–µ–º –Ω–æ–∂–Ω–∏—Ü—ã
‚Ä¢ –ß—ë—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–∏
‚Ä¢ –ü–æ—à–∞–≥–æ–≤–∞—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –º–∞–Ω–µ–∫–µ–Ω-–≥–æ–ª–æ–≤–∞—Ö

–û–°–û–ë–ê–Ø –ú–ï–¢–û–î–ò–ö–ê:
‚Ä¢ –ù–µ –ø—Ä–æ—Å—Ç–æ "–æ—Ç—Ä–µ–∑–∞–ª - –ø–æ—Å–º–æ—Ç—Ä–µ–ª"
‚Ä¢ –ß—ë—Ç–∫–æ –∑–Ω–∞–µ—à—å –ü–û–ß–ï–ú–£ –∏ –ö–ê–ö —Å–æ–∑–¥–∞–µ—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚Ä¢ –ò–∑–±–µ–≥–∞–µ–º —Ö–∞–æ—Å–∞ –∏ –æ—à–∏–±–æ–∫ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ö`;

const newBenefits = `‚Ä¢ 3 –¥–Ω—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π –¥–µ—Ä–µ–≤–Ω–µ
‚Ä¢ –§–æ—Ä–º–∞—Ç "–≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ": –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ, –ø–∏—Ç–∞–Ω–∏–µ, –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚Ä¢ –ù–µ–±–æ–ª—å—à–∞—è –≥—Ä—É–ø–ø–∞ - –≤–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∂–¥–æ–º—É
‚Ä¢ –ú–Ω–æ–≥–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞ –º–∞–Ω–µ–∫–µ–Ω-–≥–æ–ª–æ–≤–∞—Ö
‚Ä¢ –î–∏–ø–ª–æ–º –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚Ä¢ –ß—ë—Ç–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –Ω–∞ –∏–Ω—Ç—É–∏—Ü–∏–∏
‚Ä¢ –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —è—Å–Ω–æ—Å—Ç—å
‚Ä¢ –ü–æ–Ω–∏–º–∞–Ω–∏–µ, –ß–¢–û –∏ –ó–ê–ß–ï–ú –≤—ã –¥–µ–ª–∞–µ—Ç–µ`;

const newTargetAudience = `‚Ä¢ –ú–∞—Å—Ç–µ—Ä–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º –æ–ø—ã—Ç–æ–º - –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç–∏
‚Ä¢ –û–ø—ã—Ç–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞ - —É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å –∑–Ω–∞–Ω–∏—è –≤ –≥–æ–ª–æ–≤–µ
‚Ä¢ –ú–∞—Å—Ç–µ—Ä–∞ —Å–æ —Å—Ç–∞–∂–µ–º - –Ω–∞–π—Ç–∏ –≤—Ç–æ—Ä–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –∏ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
‚Ä¢ –í—Å–µ, –∫—Ç–æ —Ö–æ—á–µ—Ç —Å—Ç—Ä–∏—á—å –Ω–µ –Ω–∞ –∏–Ω—Ç—É–∏—Ü–∏–∏, –∞ —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º`;

// –í—ã–ø–æ–ª–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
const result = updateCourse.run(
  newDescription,
  newCurriculum,
  newBenefits,
  newTargetAudience,
  '–û—á–Ω—ã–π –∫—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º: —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç'
);

if (result.changes > 0) {
  console.log('‚úÖ –ö—É—Ä—Å "–û—á–Ω—ã–π –∫—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º: —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç" —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!');

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  const updatedCourse = db.prepare('SELECT * FROM courses WHERE name = ?').get('–û—á–Ω—ã–π –∫—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º: —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç');

  if (updatedCourse) {
    console.log('\nüìã –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:');
    console.log('–ù–∞–∑–≤–∞–Ω–∏–µ:', updatedCourse.name);
    console.log('–¶–µ–Ω–∞:', updatedCourse.price, '—Ä—É–±.');
    console.log('–§–æ—Ä–º–∞—Ç:', updatedCourse.format);
    console.log('\n–û–ø–∏—Å–∞–Ω–∏–µ:');
    console.log(updatedCourse.description);
    console.log('\n–ü—Ä–æ–≥—Ä–∞–º–º–∞:');
    console.log(updatedCourse.curriculum);
  }
} else {
  console.log('‚ö†Ô∏è –ö—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω');
}

// –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –í–µ—Ä—ã
console.log('\n' + '='.repeat(70));
console.log('\nüí¨ –ö–ê–ö –í–ï–†–ê –ë–£–î–ï–¢ –ü–†–ï–ó–ï–ù–¢–û–í–ê–¢–¨ –≠–¢–û–¢ –ö–£–†–°:\n');

const veraPresentation = `–≠—Ç–æ –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –æ—á–Ω—ã–π –∫—É—Ä—Å ‚Äî "–°—Ç—Ä–∏–∂–∫–∏: –§—É–Ω–¥–∞–º–µ–Ω—Ç". –û–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π –¥–µ—Ä–µ–≤–Ω–µ ‚Äî –Ω–∞—à–µ–π –∑–∞–≥–æ—Ä–æ–¥–Ω–æ–π –∞–∫–∞–¥–µ–º–∏–∏, –≥–¥–µ –≤—Å—ë —É—Å—Ç—Ä–æ–µ–Ω–æ —Ç–∞–∫, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –æ–±—É—á–µ–Ω–∏–µ.

–ó–∞ —Ç—Ä–∏ –¥–Ω—è –≤—ã –∏–∑—É—á–∏—Ç–µ 11 –±–∞–∑–æ–≤—ã—Ö —Ñ–æ—Ä–º ‚Äî –æ—Ç –¥–ª–∏–Ω–Ω—ã—Ö –¥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö ‚Äî –∏ –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ —Å–ª–æ–∂–∏—Ç–µ –≤ –≥–æ–ª–æ–≤–µ —á—ë—Ç–∫—É—é —Å–∏—Å—Ç–µ–º—É. –í—ã –±—É–¥–µ—Ç–µ —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è –∏ —Ç–µ—Ö–Ω–∏–∫–∞ –∑–∞ –∫–∞–∂–¥—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

–ó–Ω–∞–µ—Ç–µ, —á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ –≤ –Ω–∞—à–µ–π –º–µ—Ç–æ–¥–∏–∫–µ? –°–Ω–∞—á–∞–ª–∞ –≤—ã "—Å—Ç—Ä–æ–∏—Ç–µ" —Ñ–æ—Ä–º—É –Ω–∞ –±—É–º–∞–≥–µ –∏ —Å—Ö–µ–º–∞—Ö, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –±–µ—Ä—ë—Ç–µ –Ω–æ–∂–Ω–∏—Ü—ã. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —Ö–∞–æ—Å–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ö. –ù–µ –ø—Ä–æ—Å—Ç–æ "–æ—Ç—Ä–µ–∑–∞–ª ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ–ª", –∞ —á—ë—Ç–∫–æ –ø–æ–Ω–∏–º–∞–µ—à—å, –ø–æ—á–µ–º—É –∏ –∫–∞–∫ —Å–æ–∑–¥–∞—ë—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–í—Å—ë –≤–∫–ª—é—á–µ–Ω–æ: –∂–∏–≤—ë—Ç–µ –≤ —É—é—Ç–Ω–æ–º –¥–æ–º–∏–∫–µ, –ø–∏—Ç–∞–µ—Ç–µ—Å—å –Ω–∞ –º–µ—Å—Ç–µ, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å–≤—è—â–∞–µ—Ç–µ –≤—Ä–µ–º—è —Å–µ–±–µ ‚Äî –±–µ–∑ —Å—É–µ—Ç—ã –∏ –∑–∞–±–æ—Ç.

–°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –≤—ã –≤–µ—Ä–Ω—ë—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º: —Å–ø–æ–∫–æ–π–Ω—ã–º, —É–≤–µ—Ä–µ–Ω–Ω—ã–º, —Å —è—Å–Ω–æ–π –≥–æ–ª–æ–≤–æ–π –∏ —á—ë—Ç–∫–∏–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã.

–ü–æ–¥–æ–π–¥–µ—Ç –ª–∏ –≤–∞–º —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç? –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ?`;

console.log(veraPresentation);

// –ö–æ–ø–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –±–∞–∑—É –≤ –∞–¥–º–∏–Ω-–±–æ—Ç–∞
const fs = require('fs');
if (fs.existsSync('../telegram-admin-bot/')) {
  fs.copyFileSync('./courses.db', '../telegram-admin-bot/courses.db');
  console.log('\n‚úÖ –ë–∞–∑–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ telegram-admin-bot');
}

db.close();
console.log('\n‚úÖ –ì–æ—Ç–æ–≤–æ!');
