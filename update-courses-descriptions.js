const Database = require('bun:sqlite').default;

console.log('üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –∫—É—Ä—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–∞...\n');

const db = new Database('./courses.db');

// –û–±–Ω–æ–≤–ª—è–µ–º –∫—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º
const updateStrizhki = db.prepare(`
  UPDATE courses
  SET description = ?,
      curriculum = ?,
      benefits = ?,
      targetAudience = ?
  WHERE name = ?
`);

updateStrizhki.run(
  '–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º. 2 –º–µ—Å—è—Ü–∞ –æ–±—É—á–µ–Ω–∏—è –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞. –ù–æ–≤–∞—è –º–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ 2 —Ä–∞–∑–∞.',
  `4 –ú–æ–¥—É–ª—è –æ–±—É—á–µ–Ω–∏—è:
‚Ä¢ –ú–æ–¥—É–ª—å 1: –ë–∞–∑–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—è —Å—Ç—Ä–∏–∂–µ–∫
‚Ä¢ –ú–æ–¥—É–ª—å 2: –ì—Ä–∞–¥—É–∏—Ä–æ–≤–∫–∞ –∏ —Ç–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
‚Ä¢ –ú–æ–¥—É–ª—å 3: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —Ç—Ä–µ–Ω–¥—ã
‚Ä¢ –ú–æ–¥—É–ª—å 4: –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏ –∏ —Ä–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º`,
  `‚Ä¢ 2 –º–µ—Å—è—Ü–∞ —Å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º
‚Ä¢ –û—Ç—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –º–æ–¥–µ–ª—è—Ö
‚Ä¢ –ß–∞—Ç —Å –∫—É—Ä–∞—Ç–æ—Ä–æ–º 24/7
‚Ä¢ –ó–∞–ø–∏—Å–∏ —É—Ä–æ–∫–æ–≤ –Ω–∞–≤—Å–µ–≥–¥–∞
‚Ä¢ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏
‚Ä¢ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –≤ 2 —Ä–∞–∑–∞`,
  `‚Ä¢ –ü—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–µ –º–∞—Å—Ç–µ—Ä–∞
‚Ä¢ –ñ–µ–ª–∞—é—â–∏–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞–Ω–∏—è
‚Ä¢ –ú–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —á–µ–∫–∞
‚Ä¢ –ù–∞—á–∏–Ω–∞—é—â–∏–µ –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—ã`,
  '–ö—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º'
);

console.log('‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: –ö—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º');

// –û–±–Ω–æ–≤–ª—è–µ–º –î–ù–ö –¶–≤–µ—Ç–∞ –æ–Ω–ª–∞–π–Ω
const updateDNA = db.prepare(`
  UPDATE courses
  SET description = ?,
      duration = ?,
      curriculum = ?,
      benefits = ?,
      targetAudience = ?
  WHERE name LIKE ?
`);

updateDNA.run(
  '–ù–∞–≤–µ–¥–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ —Å–≤–æ–∏—Ö –∑–Ω–∞–Ω–∏—è—Ö –∑–∞ 3 –º–µ—Å—è—Ü–∞ –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞-–∫–æ–ª–æ—Ä–∏—Å—Ç–∞. 52 —É—Ä–æ–∫–∞ –ø–æ –∫–æ–ª–æ—Ä–∏—Å—Ç–∏–∫–µ –æ—Ç –±–∞–∑—ã –¥–æ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ö–Ω–∏–∫.',
  '3 –º–µ—Å—è—Ü–∞',
  `52 —É—Ä–æ–∫–∞ –≤ 3 –±–ª–æ–∫–∞—Ö:
–ë–õ–û–ö 1 - –û—Å–Ω–æ–≤—ã (—É—Ä–æ–∫–∏ 1-10):
‚Ä¢ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤–æ–ª–æ—Å –∏ –∫–æ–∂–∏ –≥–æ–ª–æ–≤—ã
‚Ä¢ –¢–µ–æ—Ä–∏—è —Ü–≤–µ—Ç–∞ –∏ —Ü–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥
‚Ä¢ –§–æ–Ω –æ—Å–≤–µ—Ç–ª–µ–Ω–∏—è
‚Ä¢ –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–≤–∏—á–Ω—ã–º–∏ –≤–æ–ª–æ—Å–∞–º–∏

–ë–õ–û–ö 2 - –¢–µ—Ö–Ω–∏–∫–∏ (—É—Ä–æ–∫–∏ 11-26):
‚Ä¢ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è
‚Ä¢ –ú–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –µ–≥–æ –≤–∏–¥—ã
‚Ä¢ –†–∞–±–æ—Ç–∞ —Å —Å–µ–¥–∏–Ω–æ–π
‚Ä¢ –¢–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è

–ë–õ–û–ö 3 - –°–ª–æ–∂–Ω—ã–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è (—É—Ä–æ–∫–∏ 27-52):
‚Ä¢ –†–∞—Å—Ç—è–∂–∫–∏ —Ü–≤–µ—Ç–∞
‚Ä¢ Airtouch
‚Ä¢ –ë–∞–ª–∞—è–∂ –∏ —à–∞—Ç—É—à
‚Ä¢ –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è
‚Ä¢ –†–∞–±–æ—Ç–∞ —Å –±–ª–æ–Ω–¥–æ–º`,
  `‚Ä¢ 52 –≤–∏–¥–µ–æ—É—Ä–æ–∫–∞ —Å –ø–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
‚Ä¢ –ù–∞—Å—Ç–∞–≤–Ω–∏–∫-–∫–æ–ª–æ—Ä–∏—Å—Ç –Ω–∞ 3 –º–µ—Å—è—Ü–∞
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π
‚Ä¢ –ß–∞—Ç —Å –æ–¥–Ω–æ–≥—Ä—É–ø–ø–Ω–∏–∫–∞–º–∏
‚Ä¢ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∫–æ–ª–æ—Ä–∏—Å—Ç–∞
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è`,
  `‚Ä¢ –ù–∞—á–∏–Ω–∞—é—â–∏–µ –∫–æ–ª–æ—Ä–∏—Å—Ç—ã
‚Ä¢ –ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —É—Å–ª—É–≥
‚Ä¢ –ú–∞—Å—Ç–µ—Ä–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–Ω–∞–Ω–∏–π
‚Ä¢ –ñ–µ–ª–∞—é—â–∏–µ –ø–æ–≤—ã—Å–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫`,
  '%–î–ù–ö –¶–≤–µ—Ç–∞. –ö—É—Ä—Å –ø–æ –∫–æ–ª–æ—Ä–∏—Å—Ç–∏–∫–µ (–æ–Ω–ª–∞–π–Ω)%'
);

console.log('‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: –î–ù–ö –¶–≤–µ—Ç–∞ –æ–Ω–ª–∞–π–Ω');

// –û–±–Ω–æ–≤–ª—è–µ–º –ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä —Å –Ω—É–ª—è
const updateParikmaher = db.prepare(`
  UPDATE courses
  SET description = ?,
      curriculum = ?,
      benefits = ?
  WHERE name = ?
`);

updateParikmaher.run(
  '–ü–æ–ª–Ω—ã–π –∫—É—Ä—Å –æ–±—É—á–µ–Ω–∏—è –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–æ–º—É –∏—Å–∫—É—Å—Å—Ç–≤—É —Å –Ω—É–ª—è. –û—Ç –Ω–æ–≤–∏—á–∫–∞ –¥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞ –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤. –î–∏–ø–ª–æ–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞.',
  `–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è:
‚Ä¢ –ú–µ—Å—è—Ü 1-2: –û—Å–Ω–æ–≤—ã –ø–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–æ–≥–æ –¥–µ–ª–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å–∞–Ω–∏—Ç–∞—Ä–∏—è
‚Ä¢ –ú–µ—Å—è—Ü 3: –ñ–µ–Ω—Å–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏ - –±–∞–∑–æ–≤—ã–µ —Ñ–æ—Ä–º—ã
‚Ä¢ –ú–µ—Å—è—Ü 4: –¢–µ—Ö–Ω–∏–∫–∏ —Å—Ç—Ä–∏–∂–µ–∫ –∏ –≥—Ä–∞–¥—É–∏—Ä–æ–≤–∫–∞
‚Ä¢ –ú–µ—Å—è—Ü 5: –û—Å–Ω–æ–≤—ã –∫–æ–ª–æ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –æ–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è
‚Ä¢ –ú–µ—Å—è—Ü 6: –£–∫–ª–∞–¥–∫–∏, –ø—Ä–∏—á–µ—Å–∫–∏, —ç–∫–∑–∞–º–µ–Ω—ã`,
  `‚Ä¢ –î–∏–ø–ª–æ–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞
‚Ä¢ 200+ —á–∞—Å–æ–≤ –ø—Ä–∞–∫—Ç–∏–∫–∏
‚Ä¢ –ü–æ–º–æ—â—å –≤ —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
‚Ä¢ –°—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚Ä¢ –û—Ç—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –º–æ–¥–µ–ª—è—Ö
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è`,
  '–ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä —Å –Ω—É–ª—è'
);

console.log('‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: –ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä —Å –Ω—É–ª—è');

// –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏ –æ–Ω–ª–∞–π–Ω
const updateKorotkie = db.prepare(`
  UPDATE courses
  SET description = ?,
      curriculum = ?
  WHERE name = ?
`);

updateKorotkie.run(
  '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—É—Ä—Å –ø–æ –∫–æ—Ä–æ—Ç–∫–∏–º –∂–µ–Ω—Å–∫–∏–º —Å—Ç—Ä–∏–∂–∫–∞–º. –í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —Ñ–æ—Ä–º—ã –∑–∞ 1.5 –º–µ—Å—è—Ü–∞.',
  `–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞:
‚Ä¢ –ù–µ–¥–µ–ª—è 1-2: –ë–∞–∑–æ–≤—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ–æ—Ä–º—ã
‚Ä¢ –ù–µ–¥–µ–ª—è 3-4: –ì—Ä–∞–¥—É–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∏–∂–∫–∏
‚Ä¢ –ù–µ–¥–µ–ª—è 5: –¢–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚Ä¢ –ù–µ–¥–µ–ª—è 6: –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏`,
  '–ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏ (–æ–Ω–ª–∞–π–Ω)'
);

console.log('‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: –ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏ –æ–Ω–ª–∞–π–Ω');

// –£–¥–∞–ª—è–µ–º —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –º—É–∂—Å–∫–∏—Ö –∏ –¥–µ—Ç—Å–∫–∏—Ö —Å—Ç—Ä–∏–∂–µ–∫ –∏–∑ –≤—Å–µ—Ö –∫—É—Ä—Å–æ–≤
const removeKidsAndMens = db.prepare(`
  UPDATE courses
  SET curriculum = REPLACE(
    REPLACE(curriculum, '–ú–æ–¥—É–ª—å 3: –ú—É–∂—Å–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏\n', ''),
    '–ú–æ–¥—É–ª—å 4: –î–µ—Ç—Å–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏\n', ''
  )
  WHERE curriculum LIKE '%–ú—É–∂—Å–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏%' OR curriculum LIKE '%–î–µ—Ç—Å–∫–∏–µ —Å—Ç—Ä–∏–∂–∫–∏%'
`);

removeKidsAndMens.run();
console.log('‚úÖ –£–¥–∞–ª–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –º—É–∂—Å–∫–∏—Ö –∏ –¥–µ—Ç—Å–∫–∏—Ö —Å—Ç—Ä–∏–∂–µ–∫');

// –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π –¥–µ—Ä–µ–≤–Ω–µ –¥–ª—è –≤—Å–µ—Ö –æ—Ñ–ª–∞–π–Ω –∫—É—Ä—Å–æ–≤
const updateOffline = db.prepare(`
  UPDATE courses
  SET benefits = REPLACE(benefits,
    'üìç –ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è: –¢–≤–æ—Ä—á–µ—Å–∫–∞—è –¥–µ—Ä–µ–≤–Ω—è',
    'üìç –¢–≤–æ—Ä—á–µ—Å–∫–∞—è –¥–µ—Ä–µ–≤–Ω—è - –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è'
  )
  WHERE format = '–æ—Ñ–ª–∞–π–Ω'
`);

updateOffline.run();
console.log('‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π –¥–µ—Ä–µ–≤–Ω–µ');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
console.log('\nüìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤:');

const checkCourses = ['–ö—É—Ä—Å –ø–æ —Å—Ç—Ä–∏–∂–∫–∞–º', '–î–ù–ö –¶–≤–µ—Ç–∞. –ö—É—Ä—Å –ø–æ –∫–æ–ª–æ—Ä–∏—Å—Ç–∏–∫–µ (–æ–Ω–ª–∞–π–Ω)', '–ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä —Å –Ω—É–ª—è'];
checkCourses.forEach(courseName => {
  const course = db.prepare('SELECT name, description FROM courses WHERE name = ?').get(courseName);
  if (course) {
    console.log(`\n${course.name}:`);
    console.log(`${course.description.substring(0, 100)}...`);
  }
});

// –ö–æ–ø–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –±–∞–∑—É –≤ –∞–¥–º–∏–Ω-–±–æ—Ç–∞
const fs = require('fs');
if (fs.existsSync('../telegram-admin-bot/')) {
  fs.copyFileSync('./courses.db', '../telegram-admin-bot/courses.db');
  console.log('\n‚úÖ –ë–∞–∑–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ telegram-admin-bot');
}

db.close();
console.log('\n‚úÖ –û–ø–∏—Å–∞–Ω–∏—è –∫—É—Ä—Å–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–∞!');
